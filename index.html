<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="description" content="Akashic Works ‚Äî Servicios de apoyo y bienestar para personas mayores en Puerto Rico">
  <title>Akashic Works</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&family=Nunito:wght@400;500;600;700;800&family=Lora:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --body: 'Nunito', sans-serif;
      --head: 'Cormorant Garamond', serif;
      --accent: 'Lora', serif;
      --text: #2C2F3E;
      --muted: #6B6D7B;
      --light: #9B9DAB;
      --card: #FDFCFA;
      --green: #5A9E7A;
      --red: #D45D3F;
      --purple: #7B6DAF;
      --gold: #B8965A;
      --gold-light: #D4B478;
      --blue: #4A7FB5;
      --teal: #4A9E8E;
      --orange: #C47E55;
      --shadow: 0 2px 16px rgba(44,47,62,0.07);
      --radius: 20px;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(160deg, #FFFBF5 0%, #F5EDE3 40%, #EDE5D8 100%);
      font-family: var(--body); color: var(--text);
      -webkit-font-smoothing: antialiased;
    }
    button, [role="button"] { min-height: 48px; min-width: 48px; cursor: pointer; }
    .wrap { max-width: 520px; margin: 0 auto; padding: 20px 16px 120px; }
    .fi { opacity: 0; transform: translateY(12px); animation: fu 0.5s ease forwards; }
    .d1{animation-delay:.1s}.d2{animation-delay:.2s}.d3{animation-delay:.3s}
    .d4{animation-delay:.4s}.d5{animation-delay:.5s}.d6{animation-delay:.6s}
    .d7{animation-delay:.7s}.d8{animation-delay:.8s}.d9{animation-delay:.9s}.d10{animation-delay:1s}
    @keyframes fu{to{opacity:1;transform:translateY(0)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}
    @keyframes pop{0%{transform:scale(.9)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
    @keyframes checkPop{0%{transform:scale(1)}50%{transform:scale(1.25)}100%{transform:scale(1)}}
    @keyframes shimmer{0%{background-position:-200% center}100%{background-position:200% center}}
    @keyframes glowPulse{0%,100%{opacity:.35;transform:scale(1)}50%{opacity:.65;transform:scale(1.08)}}
    @keyframes floatOrb{0%,100%{transform:translate(0,0)}33%{transform:translate(12px,-10px)}66%{transform:translate(-6px,6px)}}
    @keyframes lineGrow{from{width:0}to{width:60px}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}
    @keyframes blink{0%,100%{opacity:1}50%{opacity:.4}}

    /* ‚ïê‚ïê‚ïê BRAND ‚ïê‚ïê‚ïê */
    .brand{text-align:center;padding:36px 20px 24px;position:relative;overflow:hidden}
    .brand::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:280px;height:280px;border-radius:50%;background:radial-gradient(circle,rgba(184,150,90,.12) 0%,rgba(184,150,90,.03) 50%,transparent 70%);animation:glowPulse 5s ease-in-out infinite;pointer-events:none}
    .brand::after{content:'';position:absolute;top:18%;right:12%;width:90px;height:90px;border-radius:50%;background:radial-gradient(circle,rgba(123,109,175,.07) 0%,transparent 70%);animation:floatOrb 9s ease-in-out infinite;pointer-events:none}
    .brand-sym{font-size:32px;margin-bottom:8px;display:block;filter:drop-shadow(0 2px 10px rgba(184,150,90,.35))}
    .brand-title{font-family:var(--head);line-height:1.05;display:inline-block}
    .brand-title .ak{display:block;font-weight:600;font-size:48px;letter-spacing:7px;background:linear-gradient(135deg,#2C2F3E 0%,#5A5D6E 20%,var(--gold) 45%,var(--gold-light) 55%,#5A5D6E 80%,#2C2F3E 100%);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 5s linear infinite}
    .brand-title .wk{display:block;font-weight:300;font-size:22px;letter-spacing:14px;color:var(--gold);text-transform:uppercase;margin-top:3px;padding-left:4px}
    .brand-line{width:60px;height:1.5px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:14px auto 10px;border:none;animation:lineGrow 1s ease forwards}
    .brand-tag{font-family:var(--accent);font-size:14px;font-style:italic;color:var(--light);letter-spacing:1px}

    /* ‚ïê‚ïê‚ïê VIEW TOGGLE ‚ïê‚ïê‚ïê */
    .view-toggle{display:flex;gap:4px;background:rgba(44,47,62,.06);border-radius:16px;padding:5px;margin:16px 0}
    .view-btn{flex:1;padding:14px 0;border:none;background:transparent;font-family:var(--body);font-size:16px;font-weight:700;color:var(--light);border-radius:12px;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:8px}
    .view-btn.act{background:var(--card);color:var(--text);box-shadow:0 2px 8px rgba(44,47,62,.08)}
    .view-btn .v-icon{font-size:20px}
    .view-btn.fam-active{background:linear-gradient(135deg,rgba(123,109,175,.08),rgba(123,109,175,.02));color:var(--purple);box-shadow:0 2px 8px rgba(123,109,175,.12)}

    /* ‚ïê‚ïê‚ïê SALUDO ‚ïê‚ïê‚ïê */
    .saludo{background:linear-gradient(135deg,var(--card) 0%,#F7F0E6 100%);border-radius:var(--radius);padding:28px 24px;margin-bottom:16px;box-shadow:var(--shadow);position:relative;overflow:hidden}
    .saludo::after{content:'';position:absolute;top:-40%;right:-20%;width:180px;height:180px;border-radius:50%;background:radial-gradient(circle,rgba(242,204,143,.25) 0%,transparent 70%)}
    .fecha{font-size:15px;color:var(--light);font-weight:600;letter-spacing:.3px;margin-bottom:4px}
    .saludo-h{font-family:var(--head);font-size:30px;font-weight:600;color:var(--text);line-height:1.2}
    .saludo-msg{font-size:17px;color:var(--muted);line-height:1.6;margin-top:16px;padding-top:16px;border-top:1px solid rgba(44,47,62,.06);font-style:italic;font-family:var(--accent)}
    .sound-toggle{position:absolute;top:16px;right:16px;z-index:2;background:rgba(44,47,62,.05);border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;font-size:22px;transition:background .2s}
    .sound-toggle:hover{background:rgba(44,47,62,.1)}

    /* ‚ïê‚ïê‚ïê SERVICES ‚ïê‚ïê‚ïê */
    .services-intro{text-align:center;padding:8px 0 20px}
    .services-intro-h{font-family:var(--head);font-size:28px;font-weight:600;color:var(--text);margin-bottom:6px}
    .services-intro-line{width:40px;height:1.5px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:0 auto 10px;border:none}
    .services-intro-p{font-family:var(--accent);font-size:15px;font-style:italic;color:var(--light);line-height:1.5;max-width:380px;margin:0 auto}
    .svc-card{background:var(--card);border-radius:var(--radius);padding:24px;margin-bottom:14px;box-shadow:var(--shadow);display:flex;gap:18px;align-items:flex-start;transition:all .3s ease;border-left:5px solid transparent;position:relative;overflow:hidden}
    .svc-card:hover{transform:translateY(-2px);box-shadow:0 6px 28px rgba(44,47,62,.1)}
    .svc-card::after{content:'';position:absolute;top:0;right:0;width:120px;height:120px;border-radius:50%;opacity:.04;pointer-events:none;transform:translate(40%,-40%)}
    .svc-icon{width:64px;height:64px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:30px;flex-shrink:0}
    .svc-body{flex:1;min-width:0}
    .svc-num{font-family:var(--head);font-size:13px;font-weight:600;color:var(--gold);letter-spacing:2px;text-transform:uppercase;margin-bottom:4px}
    .svc-title{font-family:var(--head);font-size:22px;font-weight:700;color:var(--text);line-height:1.2;margin-bottom:8px}
    .svc-desc{font-size:16px;color:var(--muted);line-height:1.6;font-weight:500}
    .svc-tag{display:inline-block;margin-top:12px;padding:6px 14px;border-radius:100px;font-size:12px;font-weight:700;letter-spacing:.8px;text-transform:uppercase}
    .svc-medical{border-left-color:var(--red)}.svc-medical .svc-icon{background:rgba(212,93,63,.1)}.svc-medical .svc-tag{background:rgba(212,93,63,.08);color:var(--red)}
    .svc-calls{border-left-color:var(--blue)}.svc-calls .svc-icon{background:rgba(74,127,181,.1)}.svc-calls .svc-tag{background:rgba(74,127,181,.08);color:var(--blue)}
    .svc-payments{border-left-color:var(--green)}.svc-payments .svc-icon{background:rgba(90,158,122,.1)}.svc-payments .svc-tag{background:rgba(90,158,122,.08);color:var(--green)}
    .svc-transport{border-left-color:var(--gold)}.svc-transport .svc-icon{background:rgba(184,150,90,.1)}.svc-transport .svc-tag{background:rgba(184,150,90,.08);color:var(--gold)}
    .svc-forms{border-left-color:var(--purple)}.svc-forms .svc-icon{background:rgba(123,109,175,.1)}.svc-forms .svc-tag{background:rgba(123,109,175,.08);color:var(--purple)}
    .svc-daily{border-left-color:var(--teal)}.svc-daily .svc-icon{background:rgba(74,158,142,.1)}.svc-daily .svc-tag{background:rgba(74,158,142,.08);color:var(--teal)}
    .svc-family{border-left-color:var(--orange)}.svc-family .svc-icon{background:rgba(196,126,85,.1)}.svc-family .svc-tag{background:rgba(196,126,85,.08);color:var(--orange)}
    .svc-trust{border-left-color:#3D405B}.svc-trust .svc-icon{background:rgba(61,64,91,.08)}.svc-trust .svc-tag{background:rgba(61,64,91,.06);color:#3D405B}

    .section-divider{display:flex;align-items:center;gap:16px;margin:32px 0 20px;padding:0 8px}
    .section-divider-line{flex:1;height:1px;background:linear-gradient(90deg,transparent,rgba(184,150,90,.25),transparent)}
    .section-divider-text{font-family:var(--head);font-size:14px;font-weight:600;color:var(--gold);letter-spacing:3px;text-transform:uppercase;white-space:nowrap}

    /* ‚ïê‚ïê‚ïê DAILY TOOLS ‚ïê‚ïê‚ïê */
    .prog{background:var(--card);border-radius:var(--radius);padding:22px 24px;margin-bottom:16px;box-shadow:var(--shadow)}
    .prog-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .prog-lbl{font-size:14px;font-weight:700;color:var(--light);text-transform:uppercase;letter-spacing:1.2px}
    .prog-num{font-family:var(--head);font-size:24px;font-weight:600;color:var(--green)}
    .prog-bg{width:100%;height:12px;background:#EDE7DC;border-radius:100px;overflow:hidden}
    .prog-fill{height:100%;border-radius:100px;transition:width .8s cubic-bezier(.4,0,.2,1);background:linear-gradient(90deg,var(--green),#78C49A);width:0%}
    .prog-txt{font-size:15px;color:var(--muted);margin-top:12px;font-weight:500;text-align:center}
    .mood{background:var(--card);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow)}
    .mood-h{font-family:var(--head);font-size:24px;font-weight:600;color:var(--text);margin-bottom:18px}
    .mood-grid{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .mood-btn{width:88px;height:88px;border-radius:20px;border:3px solid rgba(44,47,62,.07);background:#FAF7F2;transition:all .25s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
    .mood-btn:hover{border-color:rgba(44,47,62,.15);transform:translateY(-2px)}
    .mood-btn.sel{border-color:var(--green);background:rgba(90,158,122,.08);transform:translateY(-2px);animation:pop .3s ease}
    .mood-e{font-size:36px;line-height:1}.mood-lb{font-size:13px;font-weight:700;color:var(--muted)}
    .mood-resp{font-size:17px;color:var(--green);font-weight:600;text-align:center;margin-top:18px;line-height:1.5;opacity:0}
    .tabs{display:flex;gap:4px;background:rgba(44,47,62,.05);border-radius:16px;padding:5px;margin-bottom:16px}
    .tab-b{flex:1;padding:14px 0;border:none;background:transparent;font-family:var(--body);font-size:16px;font-weight:700;color:var(--light);border-radius:12px;transition:all .3s}
    .tab-b.act{background:var(--card);color:var(--text);box-shadow:0 2px 8px rgba(44,47,62,.08)}
    .rc{background:var(--card);border-radius:18px;padding:18px 20px;margin-bottom:12px;display:flex;align-items:center;gap:16px;box-shadow:0 1px 10px rgba(44,47,62,.05);transition:all .25s;cursor:pointer;border-left:5px solid transparent}
    .rc:hover{box-shadow:0 4px 20px rgba(44,47,62,.1)}.rc:active{transform:scale(.99)}
    .rc.done{opacity:.5;background:#F5F2ED}.rc.done .rc-txt{text-decoration:line-through;color:var(--light)}
    .rc-chk{width:48px;height:48px;border-radius:50%;border:3px solid;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .3s;font-size:22px;font-weight:700;background:transparent}
    .rc-chk.on{color:white!important;animation:checkPop .3s ease}
    .rc-body{flex:1;min-width:0}.rc-txt{font-size:18px;font-weight:600;color:var(--text);line-height:1.35;margin-bottom:4px}
    .rc-time{font-size:14px;color:var(--light);font-weight:600;display:flex;align-items:center;gap:8px}
    .rc-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;display:inline-block}
    .rc-del{background:rgba(212,93,63,.08);border:none;color:var(--red);width:48px;height:48px;border-radius:14px;font-size:24px;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s}
    .rc-del:hover{background:rgba(212,93,63,.15)}
    .del-confirm{background:#FFF5F2;border:2px solid rgba(212,93,63,.2);border-radius:18px;padding:20px;margin-bottom:12px;text-align:center}
    .del-msg{font-size:17px;color:var(--text);font-weight:600;margin-bottom:16px;line-height:1.4}
    .del-btns{display:flex;gap:12px}
    .del-yes{flex:1;padding:14px;border:none;border-radius:14px;background:var(--red);color:white;font-family:var(--body);font-size:16px;font-weight:700}
    .del-no{flex:1;padding:14px;border:2px solid rgba(44,47,62,.1);border-radius:14px;background:white;color:var(--text);font-family:var(--body);font-size:16px;font-weight:700}
    .aform{background:var(--card);border-radius:var(--radius);padding:28px 24px;margin-bottom:16px;box-shadow:0 4px 28px rgba(44,47,62,.1);display:none}
    .aform.open{display:block;animation:fu .3s ease}
    .flbl{font-size:14px;font-weight:800;color:var(--light);text-transform:uppercase;letter-spacing:1.2px;margin-bottom:10px;display:block}
    .finp{width:100%;padding:16px 18px;border:2px solid rgba(44,47,62,.1);border-radius:14px;font-family:var(--body);font-size:18px;color:var(--text);background:#FAF8F4;outline:none;transition:border-color .3s;margin-bottom:20px}
    .finp:focus{border-color:var(--gold)}
    .fsel{width:100%;padding:16px 18px;border:2px solid rgba(44,47,62,.1);border-radius:14px;font-family:var(--body);font-size:18px;color:var(--text);background:#FAF8F4;outline:none;margin-bottom:20px;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='14' height='9' viewBox='0 0 14 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L7 7L13 1' stroke='%239B9DAB' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 18px center}
    .cpills{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}
    .cpill{padding:12px 18px;border-radius:100px;border:2px solid rgba(44,47,62,.08);background:transparent;font-family:var(--body);font-size:15px;font-weight:700;color:var(--muted);transition:all .2s}
    .cpill.sel{color:white;border-color:transparent}
    .fbtns{display:flex;gap:12px}
    .btn-go{flex:1;padding:16px;border:none;border-radius:14px;background:linear-gradient(135deg,var(--green),#489E6A);color:white;font-family:var(--body);font-size:17px;font-weight:700;transition:all .3s}
    .btn-go:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(90,158,122,.3)}
    .btn-cancel{padding:16px 24px;border:2px solid rgba(44,47,62,.1);border-radius:14px;background:transparent;color:var(--muted);font-family:var(--body);font-size:17px;font-weight:700}
    .fab-add{position:fixed;bottom:24px;right:calc(50% - 244px);width:64px;height:64px;border-radius:50%;border:none;background:linear-gradient(135deg,var(--gold),#A07D45);color:white;font-size:32px;font-weight:300;box-shadow:0 6px 24px rgba(184,150,90,.4);display:flex;align-items:center;justify-content:center;transition:all .3s;z-index:10}
    .fab-add:hover{transform:scale(1.08)}
    .fab-ci{position:fixed;bottom:24px;left:calc(50% - 244px);height:64px;padding:0 28px;border-radius:100px;border:none;background:linear-gradient(135deg,var(--purple),#6A5C9E);color:white;font-family:var(--body);font-size:17px;font-weight:700;box-shadow:0 6px 24px rgba(123,109,175,.35);display:flex;align-items:center;gap:10px;transition:all .3s;z-index:10}
    .fab-ci:hover{transform:scale(1.04)}
    .overlay{position:fixed;inset:0;background:rgba(44,47,62,.35);backdrop-filter:blur(8px);display:none;align-items:flex-end;justify-content:center;z-index:100;animation:fadeIn .3s ease}
    .overlay.open{display:flex}
    .sheet{background:var(--card);border-radius:28px 28px 0 0;padding:32px 24px 40px;width:100%;max-width:520px;max-height:88vh;overflow-y:auto;animation:slideUp .4s cubic-bezier(.16,1,.3,1)}
    .handle{width:48px;height:5px;background:rgba(44,47,62,.12);border-radius:100px;margin:0 auto 24px}
    .ci-t{font-family:var(--head);font-size:28px;font-weight:600;color:var(--text);margin-bottom:8px}
    .ci-sub{font-size:17px;color:var(--muted);margin-bottom:28px;line-height:1.5}
    .ci-ta{width:100%;padding:18px;border:2px solid rgba(44,47,62,.1);border-radius:16px;font-family:var(--body);font-size:18px;color:var(--text);background:#FAF8F4;outline:none;resize:none;min-height:120px;line-height:1.6;margin-bottom:24px}
    .ci-ta:focus{border-color:var(--purple)}
    .ci-ok{text-align:center;padding:48px 0}.ci-ok-e{font-size:56px;margin-bottom:20px}
    .ci-ok-t{font-family:var(--head);font-size:24px;font-weight:600;color:var(--text)}
    .ci-ok-sub{font-size:17px;color:var(--muted);margin-top:10px}
    .ci-mood-grid{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:24px}
    .ci-mood-btn{width:80px;height:80px;border-radius:18px;border:3px solid rgba(44,47,62,.07);background:#FAF7F2;transition:all .25s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer}
    .ci-mood-btn:hover{border-color:rgba(44,47,62,.15)}.ci-mood-btn.sel{border-color:var(--green);background:rgba(90,158,122,.08)}
    .empty{text-align:center;padding:48px 20px}.empty-e{font-size:48px;margin-bottom:16px}
    .empty-t{font-size:18px;color:var(--muted);line-height:1.6;font-weight:500}
    .hidden{display:none!important}
    .footer{text-align:center;margin-top:40px;padding:20px;border-top:1px solid rgba(44,47,62,.06)}
    .footer-b{font-family:var(--head);font-size:16px;font-weight:600;color:var(--light);letter-spacing:4px}
    .footer-s{font-family:var(--accent);font-size:12px;font-style:italic;color:#B8B9C4;margin-top:4px}

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       FAMILY PORTAL STYLES
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    .fam-header{background:linear-gradient(135deg,#F4F0FA 0%,#EDE8F5 50%,#E8E3F0 100%);border-radius:var(--radius);padding:28px 24px;margin-bottom:16px;box-shadow:var(--shadow);position:relative;overflow:hidden}
    .fam-header::before{content:'';position:absolute;top:-30%;right:-15%;width:160px;height:160px;border-radius:50%;background:radial-gradient(circle,rgba(123,109,175,.12) 0%,transparent 70%)}
    .fam-header-label{font-size:12px;font-weight:800;color:var(--purple);letter-spacing:2px;text-transform:uppercase;margin-bottom:6px}
    .fam-header-name{font-family:var(--head);font-size:28px;font-weight:700;color:var(--text);margin-bottom:4px}
    .fam-header-status{display:flex;align-items:center;gap:8px;font-size:15px;color:var(--muted);font-weight:600}
    .fam-status-dot{width:10px;height:10px;border-radius:50%;background:var(--green);animation:pulse 2s ease-in-out infinite}
    .fam-header-updated{font-size:13px;color:var(--light);margin-top:8px;font-style:italic}

    /* Alert Cards */
    .alert-section{margin-bottom:16px}
    .alert-card{border-radius:16px;padding:16px 20px;margin-bottom:10px;display:flex;align-items:center;gap:14px;font-size:16px;font-weight:600;animation:fu .4s ease forwards;opacity:0}
    .alert-urgent{background:rgba(212,93,63,.08);border:2px solid rgba(212,93,63,.15);color:var(--red)}
    .alert-warn{background:rgba(184,150,90,.08);border:2px solid rgba(184,150,90,.15);color:#8B7030}
    .alert-info{background:rgba(90,158,122,.06);border:2px solid rgba(90,158,122,.12);color:var(--green)}
    .alert-icon{font-size:24px;flex-shrink:0}
    .alert-body{flex:1;min-width:0}
    .alert-title{font-size:15px;font-weight:700;margin-bottom:2px}
    .alert-desc{font-size:14px;font-weight:500;opacity:.8}
    .alert-time{font-size:12px;font-weight:600;opacity:.6;margin-top:4px}

    /* Family Section Card */
    .fam-section{background:var(--card);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow)}
    .fam-section-h{font-family:var(--head);font-size:22px;font-weight:700;color:var(--text);margin-bottom:4px;display:flex;align-items:center;gap:10px}
    .fam-section-sub{font-size:14px;color:var(--light);margin-bottom:18px;font-weight:500}

    /* Wellness Summary */
    .wellness-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .wellness-stat{background:#FAF8F4;border-radius:16px;padding:18px;text-align:center}
    .wellness-stat-icon{font-size:28px;margin-bottom:6px}
    .wellness-stat-val{font-family:var(--head);font-size:28px;font-weight:700;color:var(--text)}
    .wellness-stat-label{font-size:13px;color:var(--light);font-weight:600;margin-top:2px}
    .wellness-full{grid-column:1/-1}

    /* Mood Timeline */
    .mood-timeline{display:flex;justify-content:space-between;gap:6px;margin-top:12px}
    .mood-day{text-align:center;flex:1}
    .mood-day-label{font-size:11px;color:var(--light);font-weight:700;margin-bottom:6px;text-transform:uppercase}
    .mood-day-emoji{font-size:24px;width:44px;height:44px;border-radius:12px;background:#FAF8F4;display:flex;align-items:center;justify-content:center;margin:0 auto}
    .mood-day-emoji.today{background:rgba(90,158,122,.1);border:2px solid rgba(90,158,122,.2)}

    /* Appointments */
    .appt-item{display:flex;gap:14px;padding:14px 0;border-bottom:1px solid rgba(44,47,62,.05)}
    .appt-item:last-child{border-bottom:none}
    .appt-date{width:52px;height:52px;border-radius:14px;background:rgba(74,127,181,.08);display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0}
    .appt-date-month{font-size:11px;font-weight:800;color:var(--blue);text-transform:uppercase;letter-spacing:1px}
    .appt-date-day{font-family:var(--head);font-size:22px;font-weight:700;color:var(--text);line-height:1}
    .appt-body{flex:1}
    .appt-title{font-size:16px;font-weight:700;color:var(--text);margin-bottom:3px}
    .appt-detail{font-size:14px;color:var(--light);font-weight:500}
    .appt-status{font-size:12px;font-weight:700;padding:4px 10px;border-radius:100px;margin-top:6px;display:inline-block}
    .appt-confirmed{background:rgba(90,158,122,.08);color:var(--green)}
    .appt-pending{background:rgba(184,150,90,.08);color:var(--gold)}
    .appt-done{background:rgba(44,47,62,.05);color:var(--light)}

    /* Medication */
    .med-item{display:flex;align-items:center;gap:14px;padding:14px 0;border-bottom:1px solid rgba(44,47,62,.05)}
    .med-item:last-child{border-bottom:none}
    .med-icon{width:48px;height:48px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
    .med-body{flex:1}
    .med-name{font-size:16px;font-weight:700;color:var(--text)}
    .med-dose{font-size:14px;color:var(--light);font-weight:500}
    .med-schedule{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap}
    .med-time{font-size:12px;font-weight:700;padding:4px 10px;border-radius:100px;background:#FAF8F4;color:var(--muted)}
    .med-time.taken{background:rgba(90,158,122,.08);color:var(--green)}
    .med-time.missed{background:rgba(212,93,63,.08);color:var(--red)}

    /* Messages */
    .msg-item{padding:14px 0;border-bottom:1px solid rgba(44,47,62,.05)}
    .msg-item:last-child{border-bottom:none}
    .msg-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
    .msg-author{font-size:15px;font-weight:700;color:var(--text);display:flex;align-items:center;gap:8px}
    .msg-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;color:white;font-weight:700}
    .msg-time-label{font-size:12px;color:var(--light);font-weight:600}
    .msg-text{font-size:15px;color:var(--muted);line-height:1.55;font-weight:500}
    .msg-input-wrap{display:flex;gap:10px;margin-top:16px;padding-top:16px;border-top:1px solid rgba(44,47,62,.06)}
    .msg-input{flex:1;padding:14px 16px;border:2px solid rgba(44,47,62,.08);border-radius:14px;font-family:var(--body);font-size:16px;color:var(--text);background:#FAF8F4;outline:none}
    .msg-input:focus{border-color:var(--purple)}
    .msg-send{width:52px;height:52px;border:none;border-radius:14px;background:linear-gradient(135deg,var(--purple),#6A5C9E);color:white;font-size:20px;display:flex;align-items:center;justify-content:center;transition:all .2s}
    .msg-send:hover{transform:scale(1.05)}

    @media(max-width:560px){
      .fab-add{right:20px}.fab-ci{left:20px}
      .mood-btn{width:60px;height:76px;border-radius:16px}
      .mood-e{font-size:30px}.mood-lb{font-size:12px}
      .ci-mood-btn{width:60px;height:72px}
      .brand-title .ak{font-size:38px;letter-spacing:5px}
      .brand-title .wk{font-size:19px;letter-spacing:11px}
      .svc-card{padding:20px;gap:14px}.svc-icon{width:56px;height:56px;font-size:26px;border-radius:16px}
      .svc-title{font-size:20px}.svc-desc{font-size:15px}
      .wellness-grid{grid-template-columns:1fr 1fr;gap:10px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- ‚ïê‚ïê‚ïê BRAND ‚ïê‚ïê‚ïê -->
    <div class="brand fi">
      <span class="brand-sym">‚ú¶</span>
      <h1 class="brand-title"><span class="ak">AKASHIC</span><span class="wk">Works</span></h1>
      <hr class="brand-line">
      <p class="brand-tag">tu bienestar, tu ritmo, tu momento</p>
    </div>

    <!-- ‚ïê‚ïê‚ïê VIEW TOGGLE ‚ïê‚ïê‚ïê -->
    <div class="view-toggle fi d1">
      <button class="view-btn act" id="viewSenior" onclick="switchView('senior')">
        <span class="v-icon">‚òÄÔ∏è</span> Mi D√≠a
      </button>
      <button class="view-btn" id="viewFamily" onclick="switchView('family')">
        <span class="v-icon">üë®‚Äçüë©‚Äçüëß</span> Portal Familia
      </button>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SENIOR VIEW
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="seniorView">
      <div class="saludo fi d2" id="saludo">
        <button class="sound-toggle" id="soundBtn" aria-label="Sonido">üîä</button>
        <p class="fecha" id="fecha"></p>
        <h1 class="saludo-h" id="saludoText"></h1>
        <p class="saludo-msg" id="mensajeDiario"></p>
      </div>
      <div class="services-intro fi d3">
        <h2 class="services-intro-h">Nuestros Servicios</h2>
        <hr class="services-intro-line">
        <p class="services-intro-p">Apoyo real para la vida diaria. T√∫ descansas, nosotros nos encargamos.</p>
      </div>
      <div class="svc-card svc-medical fi d3"><div class="svc-icon">üìû</div><div class="svc-body"><div class="svc-num">Servicio 01</div><div class="svc-title">Citas M√©dicas y Diligencias</div><div class="svc-desc">Hacemos las llamadas por ti. Coordinamos citas con doctores, laboratorios, farmacias y oficinas de gobierno ‚Äî sin que tengas que esperar en l√≠nea.</div><span class="svc-tag">Por Tel√©fono</span></div></div>
      <div class="svc-card svc-calls fi d4"><div class="svc-icon">üîî</div><div class="svc-body"><div class="svc-num">Servicio 02</div><div class="svc-title">Llamadas y Seguimiento</div><div class="svc-desc">Te recordamos tus citas, medicamentos y compromisos. Hacemos seguimiento despu√©s de cada visita para asegurarnos que todo est√© en orden.</div><span class="svc-tag">Nunca se te olvida</span></div></div>
      <div class="svc-card svc-payments fi d5"><div class="svc-icon">üí≥</div><div class="svc-body"><div class="svc-num">Servicio 03</div><div class="svc-title">Pagos Sin Tocar Dinero</div><div class="svc-desc">Te ayudamos a manejar pagos de servicios, facturas y suscripciones de forma segura y digital. Sin filas, sin confusi√≥n, sin riesgo.</div><span class="svc-tag">Seguro y Digital</span></div></div>
      <div class="svc-card svc-transport fi d6"><div class="svc-icon">üöó</div><div class="svc-body"><div class="svc-num">Servicio 04</div><div class="svc-title">Coordinar Transportaci√≥n</div><div class="svc-desc">Organizamos tu transporte a citas, terapias y actividades. Ya sea Uber, familiar, o servicio comunitario ‚Äî todo coordinado.</div><span class="svc-tag">Puerta a Puerta</span></div></div>
      <div class="svc-card svc-forms fi d7"><div class="svc-icon">üìã</div><div class="svc-body"><div class="svc-num">Servicio 05</div><div class="svc-title">Formularios y Documentos</div><div class="svc-desc">Te asistimos con formularios m√©dicos, solicitudes de beneficios, renovaciones y documentos importantes. Todo completo y a tiempo.</div><span class="svc-tag">Sin Estr√©s</span></div></div>
      <div class="svc-card svc-daily fi d8"><div class="svc-icon">üìÖ</div><div class="svc-body"><div class="svc-num">Servicio 06</div><div class="svc-title">Organizaci√≥n Diaria</div><div class="svc-desc">Creamos una rutina personalizada que se adapta a tu vida. Medicamentos, comidas, ejercicio, descanso ‚Äî todo en su momento, sin presi√≥n.</div><span class="svc-tag">Tu Ritmo</span></div></div>
      <div class="svc-card svc-family fi d9"><div class="svc-icon">üë®‚Äçüë©‚Äçüëß</div><div class="svc-body"><div class="svc-num">Servicio 07</div><div class="svc-title">Apoyo a Familias</div><div class="svc-desc">Mantenemos a la familia informada y tranquila. Reportes de bienestar, coordinaci√≥n de visitas, y comunicaci√≥n clara para todos.</div><span class="svc-tag">Familia Conectada</span></div></div>
      <div class="svc-card svc-trust fi d10"><div class="svc-icon">ü§ù</div><div class="svc-body"><div class="svc-num">Servicio 08</div><div class="svc-title">C√≥mo Generar Confianza</div><div class="svc-desc">Te ense√±amos a presentarte con seguridad ante m√©dicos y proveedores. Comunicaci√≥n clara y la confianza de saber que tienes apoyo.</div><span class="svc-tag">T√∫ al Mando</span></div></div>

      <div class="section-divider"><div class="section-divider-line"></div><span class="section-divider-text">Tu D√≠a</span><div class="section-divider-line"></div></div>

      <div class="prog"><div class="prog-row"><span class="prog-lbl">Progreso de Hoy</span><span class="prog-num" id="progNum">0/0</span></div><div class="prog-bg"><div class="prog-fill" id="progFill"></div></div><p class="prog-txt" id="progTxt"></p></div>
      <div class="mood"><h2 class="mood-h">¬øC√≥mo te sientes? üíõ</h2><div class="mood-grid" id="moodGrid"></div><p class="mood-resp" id="moodResp"></p></div>
      <div class="tabs"><button class="tab-b act" id="tabHoy" onclick="switchTab('hoy')">Pendientes (0)</button><button class="tab-b" id="tabListo" onclick="switchTab('listo')">Hechos (0)</button></div>
      <div class="aform" id="addForm">
        <label class="flbl">¬øQu√© te recuerdo?</label><input class="finp" id="newText" type="text" placeholder="Ej: Tomar medicina de la noche...">
        <label class="flbl">¬øA qu√© hora?</label><select class="fsel" id="newTime"></select>
        <label class="flbl">Categor√≠a</label><div class="cpills" id="catPills"></div>
        <div class="fbtns"><button class="btn-cancel" onclick="toggleForm()">Cancelar</button><button class="btn-go" onclick="addReminder()">Agregar ‚úì</button></div>
      </div>
      <div id="reminderList"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         FAMILY PORTAL VIEW
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="familyView" class="hidden">

      <!-- Family Header -->
      <div class="fam-header fi">
        <div class="fam-header-label">Portal de Familia</div>
        <div class="fam-header-name">Mar√≠a del Carmen</div>
        <div class="fam-header-status">
          <span class="fam-status-dot"></span> Activa hoy
        </div>
        <div class="fam-header-updated">√öltima actividad: hace 23 minutos</div>
      </div>

      <!-- Alerts -->
      <div class="alert-section">
        <div class="alert-card alert-urgent fi d1" style="animation-delay:.1s">
          <span class="alert-icon">‚ö†Ô∏è</span>
          <div class="alert-body">
            <div class="alert-title">Medicamento No Tomado</div>
            <div class="alert-desc">Lisinopril 10mg ‚Äî dosis de la ma√±ana</div>
            <div class="alert-time">Programado: 8:00 AM ¬∑ Hace 2 horas</div>
          </div>
        </div>
        <div class="alert-card alert-warn fi d2" style="animation-delay:.2s">
          <span class="alert-icon">üìã</span>
          <div class="alert-body">
            <div class="alert-title">Formulario Pendiente</div>
            <div class="alert-desc">Renovaci√≥n Mi Salud ‚Äî vence en 5 d√≠as</div>
          </div>
        </div>
        <div class="alert-card alert-info fi d3" style="animation-delay:.3s">
          <span class="alert-icon">‚úÖ</span>
          <div class="alert-body">
            <div class="alert-title">Cita Confirmada</div>
            <div class="alert-desc">Dr. Rodr√≠guez ‚Äî Cardiolog√≠a, 14 de febrero</div>
          </div>
        </div>
      </div>

      <!-- Wellness Summary -->
      <div class="fam-section fi d4">
        <div class="fam-section-h">üìä Resumen de Bienestar</div>
        <div class="fam-section-sub">C√≥mo va el d√≠a de hoy</div>
        <div class="wellness-grid">
          <div class="wellness-stat">
            <div class="wellness-stat-icon">üòä</div>
            <div class="wellness-stat-val" style="color:var(--green)">Bien</div>
            <div class="wellness-stat-label">√Ånimo de Hoy</div>
          </div>
          <div class="wellness-stat">
            <div class="wellness-stat-icon">‚úÖ</div>
            <div class="wellness-stat-val" id="famTaskCount">4/6</div>
            <div class="wellness-stat-label">Tareas Completadas</div>
          </div>
          <div class="wellness-stat">
            <div class="wellness-stat-icon">üíä</div>
            <div class="wellness-stat-val" style="color:var(--red)">2/3</div>
            <div class="wellness-stat-label">Medicamentos Tomados</div>
          </div>
          <div class="wellness-stat">
            <div class="wellness-stat-icon">üö∂</div>
            <div class="wellness-stat-val" style="color:var(--teal)">15 min</div>
            <div class="wellness-stat-label">Movimiento</div>
          </div>
        </div>
        <div style="margin-top:20px">
          <div class="fam-section-sub" style="margin-bottom:10px">√Ånimo de la semana</div>
          <div class="mood-timeline" id="moodTimeline"></div>
        </div>
      </div>

      <!-- Appointments -->
      <div class="fam-section fi d5">
        <div class="fam-section-h">üóìÔ∏è Citas y Seguimientos</div>
        <div class="fam-section-sub">Pr√≥ximas citas m√©dicas y diligencias</div>
        <div class="appt-item">
          <div class="appt-date"><span class="appt-date-month">Feb</span><span class="appt-date-day">14</span></div>
          <div class="appt-body">
            <div class="appt-title">Dr. Rodr√≠guez ‚Äî Cardiolog√≠a</div>
            <div class="appt-detail">Hospital Auxilio Mutuo ¬∑ 10:00 AM</div>
            <span class="appt-status appt-confirmed">‚úì Confirmada</span>
          </div>
        </div>
        <div class="appt-item">
          <div class="appt-date"><span class="appt-date-month">Feb</span><span class="appt-date-day">20</span></div>
          <div class="appt-body">
            <div class="appt-title">Laboratorio ‚Äî An√°lisis de Sangre</div>
            <div class="appt-detail">Quest Diagnostics, Hato Rey ¬∑ 7:30 AM</div>
            <span class="appt-status appt-pending">‚è≥ Pendiente</span>
          </div>
        </div>
        <div class="appt-item">
          <div class="appt-date"><span class="appt-date-month">Feb</span><span class="appt-date-day">5</span></div>
          <div class="appt-body">
            <div class="appt-title">Dra. L√≥pez ‚Äî Medicina General</div>
            <div class="appt-detail">Seguimiento completado por tel√©fono</div>
            <span class="appt-status appt-done">Completada</span>
          </div>
        </div>
      </div>

      <!-- Medications -->
      <div class="fam-section fi d6">
        <div class="fam-section-h">üíä Medicamentos y Horarios</div>
        <div class="fam-section-sub">Estado de medicamentos de hoy</div>
        <div class="med-item">
          <div class="med-icon" style="background:rgba(212,93,63,.08)">üíä</div>
          <div class="med-body">
            <div class="med-name">Lisinopril 10mg</div>
            <div class="med-dose">Presi√≥n arterial ‚Äî 1 pastilla</div>
            <div class="med-schedule">
              <span class="med-time missed">8:00 AM ‚úï</span>
              <span class="med-time">8:00 PM</span>
            </div>
          </div>
        </div>
        <div class="med-item">
          <div class="med-icon" style="background:rgba(90,158,122,.08)">üíä</div>
          <div class="med-body">
            <div class="med-name">Metformina 500mg</div>
            <div class="med-dose">Diabetes ‚Äî 1 pastilla con comida</div>
            <div class="med-schedule">
              <span class="med-time taken">8:00 AM ‚úì</span>
              <span class="med-time taken">12:00 PM ‚úì</span>
              <span class="med-time">6:00 PM</span>
            </div>
          </div>
        </div>
        <div class="med-item">
          <div class="med-icon" style="background:rgba(123,109,175,.08)">üíä</div>
          <div class="med-body">
            <div class="med-name">Omeprazol 20mg</div>
            <div class="med-dose">Est√≥mago ‚Äî 1 pastilla en ayunas</div>
            <div class="med-schedule">
              <span class="med-time taken">6:30 AM ‚úì</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Messages -->
      <div class="fam-section fi d7">
        <div class="fam-section-h">üí¨ Mensajes y Notas</div>
        <div class="fam-section-sub">Comunicaci√≥n entre familia y cuidador</div>
        <div class="msg-item">
          <div class="msg-header">
            <span class="msg-author"><span class="msg-avatar" style="background:var(--purple)">C</span>Cuidador</span>
            <span class="msg-time-label">Hoy, 9:15 AM</span>
          </div>
          <div class="msg-text">Buenos d√≠as. Mar√≠a desayun√≥ bien y tom√≥ su Omeprazol y Metformina. Not√© que no quiso tomar el Lisinopril ‚Äî dice que le da mareo. Le recordar√© m√°s tarde con algo de comer.</div>
        </div>
        <div class="msg-item">
          <div class="msg-header">
            <span class="msg-author"><span class="msg-avatar" style="background:var(--orange)">L</span>Laura (hija)</span>
            <span class="msg-time-label">Hoy, 9:42 AM</span>
          </div>
          <div class="msg-text">Gracias por avisarme. El doctor dijo que puede tomarla con el almuerzo si le da mareo en ayunas. ¬øPuedes intentar a mediod√≠a? La voy a llamar a las 2.</div>
        </div>
        <div class="msg-item">
          <div class="msg-header">
            <span class="msg-author"><span class="msg-avatar" style="background:var(--teal)">R</span>Roberto (hijo)</span>
            <span class="msg-time-label">Ayer, 6:30 PM</span>
          </div>
          <div class="msg-text">¬øC√≥mo estuvo Mam√° hoy? La llamo ma√±ana temprano. Gracias por todo lo que hacen. üôè</div>
        </div>
        <div class="msg-input-wrap">
          <input class="msg-input" id="msgInput" type="text" placeholder="Escribir mensaje...">
          <button class="msg-send" onclick="sendMsg()" aria-label="Enviar">‚û§</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="footer-b">AKASHIC WORKS</div>
      <div class="footer-s">cuidando lo que importa</div>
    </div>

    <!-- FABs -->
    <button class="fab-ci" id="fabCI" onclick="openCheckin()">üíú ¬øC√≥mo vas?</button>
    <button class="fab-add" id="fabAdd" onclick="toggleForm()">+</button>

    <!-- Check-in Overlay -->
    <div class="overlay" id="checkinOverlay" onclick="closeCheckinBg(event)">
      <div class="sheet">
        <div class="handle"></div>
        <div id="checkinContent">
          <h2 class="ci-t">Tu Momento üåø</h2>
          <p class="ci-sub">T√≥mate un momento para ti. ¬øC√≥mo va tu d√≠a? Sin presi√≥n ‚Äî este espacio es tuyo.</p>
          <label class="flbl">¬øC√≥mo te sientes ahora?</label>
          <div class="ci-mood-grid" id="ciMoodGrid"></div>
          <label class="flbl">¬øAlgo en tu mente? (opcional)</label>
          <textarea class="ci-ta" id="ciNote" placeholder="Me siento..."></textarea>
          <button class="btn-go" style="width:100%;padding:18px;font-size:18px" onclick="submitCheckin()">Enviar Check-in üíõ</button>
        </div>
        <div id="checkinSuccess" class="hidden">
          <div class="ci-ok"><div class="ci-ok-e">üíú</div><div class="ci-ok-t">Gracias por registrarte.</div><p class="ci-ok-sub">Est√°s haciendo algo hermoso por ti.</p></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ‚îÄ‚îÄ‚îÄ State ‚îÄ‚îÄ‚îÄ */
    let soundOn=true,currentTab='hoy',currentMood=null,ciMood=null,confirmDelId=null,formOpen=false,newCat='personal',currentView='senior';
    const CATS=[{id:'salud',label:'Salud',icon:'üíä',color:'#D45D3F'},{id:'comida',label:'Comida',icon:'üçΩÔ∏è',color:'#5A9E7A'},{id:'movimiento',label:'Movimiento',icon:'üö∂',color:'#C49530'},{id:'social',label:'Social',icon:'üí¨',color:'#3D405B'},{id:'descanso',label:'Descanso',icon:'üò¥',color:'#7B6DAF'},{id:'personal',label:'Personal',icon:'‚ú®',color:'#C47E55'}];
    const MENSAJES=["Lo est√°s haciendo bien. Un paso a la vez. üåø","Tu bienestar importa. Gracias por estar presente. ‚òÄÔ∏è","Est√° bien ir despacio. Vas a tu tiempo.","Cuidarte es un acto de amor propio. üíõ","Hoy es un buen d√≠a para ser bueno contigo. üå∫","Cada peque√±a acci√≥n suma algo hermoso.","Respira profundo. T√∫ puedes con esto. üåä","No tienes que ser perfecto. Solo tienes que ser t√∫. ü§ô"];
    const MOODS=[{emoji:'üòä',label:'Genial',val:'genial'},{emoji:'üôÇ',label:'Bien',val:'bien'},{emoji:'üòê',label:'Ah√≠',val:'ahi'},{emoji:'üòî',label:'Bajito',val:'bajito'},{emoji:'üò∞',label:'Dif√≠cil',val:'dificil'}];
    const MOOD_RESP={genial:'¬°Qu√© bueno! Vamos con esa energ√≠a. üåü',bien:'Me alegra escuchar eso. Vas muy bien. üíö',ahi:'Est√° bien. Cada d√≠a es diferente. üå§Ô∏è',bajito:'Estoy aqu√≠ contigo. S√© amable contigo hoy. üíõ',dificil:'Siento que est√© dif√≠cil. No est√°s solo/a. ü§ó'};
    const HORAS=['6:00 AM','6:30 AM','7:00 AM','7:30 AM','8:00 AM','8:30 AM','9:00 AM','9:30 AM','10:00 AM','10:30 AM','11:00 AM','11:30 AM','12:00 PM','12:30 PM','1:00 PM','1:30 PM','2:00 PM','2:30 PM','3:00 PM','3:30 PM','4:00 PM','4:30 PM','5:00 PM','5:30 PM','6:00 PM','6:30 PM','7:00 PM','7:30 PM','8:00 PM','8:30 PM','9:00 PM','9:30 PM','10:00 PM'];
    let reminders=[{id:1,text:'Tomar medicamento de la ma√±ana',time:'8:00 AM',cat:'salud',done:false},{id:2,text:'Tomar un vaso de agua',time:'9:00 AM',cat:'salud',done:false},{id:3,text:'Almorzar algo nutritivo',time:'12:00 PM',cat:'comida',done:false},{id:4,text:'Caminar 15 minutos',time:'2:00 PM',cat:'movimiento',done:false},{id:5,text:'Llamar a un familiar o amigo',time:'4:00 PM',cat:'social',done:false},{id:6,text:'Relajarse ‚Äî sin pantallas',time:'9:00 PM',cat:'descanso',done:false}];

    /* ‚îÄ‚îÄ‚îÄ Audio ‚îÄ‚îÄ‚îÄ */
    function playTone(t){if(!soundOn)return;try{const c=new(window.AudioContext||window.webkitAudioContext)(),o=c.createOscillator(),g=c.createGain();o.connect(g);g.connect(c.destination);if(t==='complete'){o.type='triangle';o.frequency.setValueAtTime(280,c.currentTime);o.frequency.exponentialRampToValueAtTime(120,c.currentTime+.15);g.gain.setValueAtTime(.4,c.currentTime);g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.2);o.start(c.currentTime);o.stop(c.currentTime+.2)}else if(t==='undo'){o.type='sine';o.frequency.setValueAtTime(200,c.currentTime);g.gain.setValueAtTime(.2,c.currentTime);g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.12);o.start(c.currentTime);o.stop(c.currentTime+.12)}else if(t==='add'){o.type='triangle';o.frequency.setValueAtTime(400,c.currentTime);o.frequency.exponentialRampToValueAtTime(180,c.currentTime+.12);g.gain.setValueAtTime(.35,c.currentTime);g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.18);o.start(c.currentTime);o.stop(c.currentTime+.18)}else if(t==='checkin'){const o2=c.createOscillator(),g2=c.createGain();o2.connect(g2);g2.connect(c.destination);o.type='sine';o2.type='sine';o.frequency.setValueAtTime(260,c.currentTime);o2.frequency.setValueAtTime(330,c.currentTime);g.gain.setValueAtTime(.25,c.currentTime);g2.gain.setValueAtTime(.2,c.currentTime);g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5);g2.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5);o.start(c.currentTime);o2.start(c.currentTime);o.stop(c.currentTime+.5);o2.stop(c.currentTime+.5)}else if(t==='mood'){o.type='sine';o.frequency.setValueAtTime(320,c.currentTime);g.gain.setValueAtTime(.15,c.currentTime);g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.15);o.start(c.currentTime);o.stop(c.currentTime+.15)}}catch(e){}}

    /* ‚îÄ‚îÄ‚îÄ View Toggle ‚îÄ‚îÄ‚îÄ */
    function switchView(v){
      currentView=v;
      document.getElementById('seniorView').classList.toggle('hidden',v!=='senior');
      document.getElementById('familyView').classList.toggle('hidden',v!=='family');
      document.getElementById('viewSenior').classList.toggle('act',v==='senior');
      document.getElementById('viewFamily').classList.toggle('act',v!=='senior');
      document.getElementById('viewFamily').classList.toggle('fam-active',v==='family');
      document.getElementById('fabAdd').classList.toggle('hidden',v==='family');
      document.getElementById('fabCI').classList.toggle('hidden',v==='family');
      if(v==='family')buildMoodTimeline();
      window.scrollTo({top:0,behavior:'smooth'});
    }

    /* ‚îÄ‚îÄ‚îÄ Mood Timeline ‚îÄ‚îÄ‚îÄ */
    function buildMoodTimeline(){
      const days=['Lun','Mar','Mi√©','Jue','Vie','S√°b','Dom'];
      const moods=['üòä','üôÇ','üòä','üòê','üôÇ','üòä','üôÇ'];
      const today=new Date().getDay();
      const todayIdx=today===0?6:today-1;
      document.getElementById('moodTimeline').innerHTML=days.map((d,i)=>{
        const isToday=i===todayIdx;
        return`<div class="mood-day"><div class="mood-day-label">${d}</div><div class="mood-day-emoji${isToday?' today':''}">${i<=todayIdx?moods[i]:'‚Äî'}</div></div>`;
      }).join('');
    }

    /* ‚îÄ‚îÄ‚îÄ Messages ‚îÄ‚îÄ‚îÄ */
    function sendMsg(){
      const input=document.getElementById('msgInput');
      const text=input.value.trim();
      if(!text)return;
      const msgSection=document.querySelector('.fam-section:last-of-type .msg-input-wrap');
      const newMsg=document.createElement('div');
      newMsg.className='msg-item';
      newMsg.style.animation='fu .3s ease forwards';
      const now=new Date();
      const h=now.getHours(),m=now.getMinutes();
      const timeStr=`Ahora, ${h>12?h-12:h}:${m<10?'0'+m:m} ${h>=12?'PM':'AM'}`;
      newMsg.innerHTML=`<div class="msg-header"><span class="msg-author"><span class="msg-avatar" style="background:var(--blue)">T</span>T√∫</span><span class="msg-time-label">${timeStr}</span></div><div class="msg-text">${text}</div>`;
      msgSection.parentNode.insertBefore(newMsg,msgSection);
      input.value='';
      playTone('add');
    }
    
    /* ‚îÄ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ‚îÄ */
    function gc(id){return CATS.find(c=>c.id===id)?.color||'#999'}
    function formatFecha(d){const dias=['Domingo','Lunes','Martes','Mi√©rcoles','Jueves','Viernes','S√°bado'],meses=['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre'];return`${dias[d.getDay()]}, ${d.getDate()} de ${meses[d.getMonth()]}`}
    function getSaludo(){const h=new Date().getHours();return h<12?'Buenos d√≠as':h<17?'Buenas tardes':'Buenas noches'}

    function render(){
      const dn=reminders.filter(r=>r.done).length,tot=reminders.length,pct=tot>0?(dn/tot)*100:0;
      const pend=reminders.filter(r=>!r.done),comp=reminders.filter(r=>r.done);
      document.getElementById('progNum').textContent=`${dn}/${tot}`;
      document.getElementById('progFill').style.width=`${pct}%`;
      const pt=document.getElementById('progTxt');
      if(dn>0&&dn<tot)pt.textContent=dn===1?'¬°Buen comienzo!':`¬°Ya van ${dn}! Sigue as√≠.`;
      else if(dn===tot&&tot>0)pt.textContent='üéâ ¬°Completaste todo! ¬°Tremendo!';
      else pt.textContent='';
      document.getElementById('tabHoy').textContent=`Pendientes (${pend.length})`;
      document.getElementById('tabListo').textContent=`Hechos (${comp.length})`;
      // Update family portal task count
      document.getElementById('famTaskCount').textContent=`${dn}/${tot}`;
      const list=document.getElementById('reminderList'),items=currentTab==='hoy'?pend:comp;
      if(!items.length){const m=currentTab==='hoy'?'<div class="empty-e">üéâ</div><div class="empty-t">¬°Todo listo por hoy!<br>Te luciste. Descansa tranquilo/a.</div>':'<div class="empty-e">‚è≥</div><div class="empty-t">Nada completado a√∫n.<br>Toca un recordatorio para marcarlo.</div>';list.innerHTML=`<div class="empty">${m}</div>`;return}
      let h='';items.forEach(r=>{const col=gc(r.cat);if(confirmDelId===r.id){h+=`<div class="del-confirm"><p class="del-msg">¬øSeguro que quieres borrar<br>"${r.text}"?</p><div class="del-btns"><button class="del-no" onclick="cancelDel()">No, dejar</button><button class="del-yes" onclick="confirmDelete(${r.id})">S√≠, borrar</button></div></div>`}else{const dc=r.done?' done':'',ck=r.done?' on':'',cs=r.done?`border-color:${col};background:${col};color:white`:`border-color:${col};color:${col}`,cv=r.done?'‚úì':'',dl=r.done?'':`<button class="rc-del" onclick="event.stopPropagation();askDel(${r.id})" aria-label="Borrar">‚úï</button>`;h+=`<div class="rc${dc}" style="border-left-color:${col}" onclick="toggleReminder(${r.id})"><div class="rc-chk${ck}" style="${cs}">${cv}</div><div class="rc-body"><div class="rc-txt">${r.text}</div><div class="rc-time"><span class="rc-dot" style="background:${col}"></span>${r.time}</div></div>${dl}</div>`}});
      list.innerHTML=h;
    }

    function toggleReminder(id){const r=reminders.find(r=>r.id===id);if(r){playTone(r.done?'undo':'complete');r.done=!r.done}confirmDelId=null;render()}
    function askDel(id){confirmDelId=id;render()}
    function cancelDel(){confirmDelId=null;render()}
    function confirmDelete(id){reminders=reminders.filter(r=>r.id!==id);confirmDelId=null;render()}
    function switchTab(t){currentTab=t;confirmDelId=null;document.getElementById('tabHoy').classList.toggle('act',t==='hoy');document.getElementById('tabListo').classList.toggle('act',t==='listo');render()}
    function toggleForm(){formOpen=!formOpen;document.getElementById('addForm').classList.toggle('open',formOpen);document.getElementById('fabAdd').textContent=formOpen?'‚úï':'+';if(formOpen)document.getElementById('newText').focus()}
    function addReminder(){const t=document.getElementById('newText').value.trim();if(!t)return;playTone('add');reminders.push({id:Date.now(),text:t,time:document.getElementById('newTime').value,cat:newCat,done:false});document.getElementById('newText').value='';newCat='personal';renderCatPills();toggleForm();render()}
    function selectMood(v){currentMood=v;playTone('mood');document.querySelectorAll('#moodGrid .mood-btn').forEach(b=>b.classList.toggle('sel',b.dataset.val===v));const r=document.getElementById('moodResp');r.textContent=MOOD_RESP[v];r.style.opacity='1'}
    function selectCIMood(v){ciMood=v;playTone('mood');document.querySelectorAll('#ciMoodGrid .ci-mood-btn').forEach(b=>b.classList.toggle('sel',b.dataset.val===v))}
    function selectCat(id){newCat=id;renderCatPills()}
    function openCheckin(){ciMood=null;document.getElementById('ciNote').value='';document.getElementById('checkinContent').classList.remove('hidden');document.getElementById('checkinSuccess').classList.add('hidden');document.getElementById('checkinOverlay').classList.add('open');renderCIMoods()}
    function closeCheckinBg(e){if(e.target===document.getElementById('checkinOverlay'))document.getElementById('checkinOverlay').classList.remove('open')}
    function submitCheckin(){playTone('checkin');document.getElementById('checkinContent').classList.add('hidden');document.getElementById('checkinSuccess').classList.remove('hidden');setTimeout(()=>document.getElementById('checkinOverlay').classList.remove('open'),3000)}
    document.getElementById('soundBtn').addEventListener('click',()=>{soundOn=!soundOn;document.getElementById('soundBtn').textContent=soundOn?'üîä':'üîá'});
    document.getElementById('msgInput').addEventListener('keydown',e=>{if(e.key==='Enter')sendMsg()});

    function buildMoodGrid(){document.getElementById('moodGrid').innerHTML=MOODS.map(m=>`<button class="mood-btn" data-val="${m.val}" onclick="selectMood('${m.val}')" aria-label="Me siento ${m.label}"><span class="mood-e">${m.emoji}</span><span class="mood-lb">${m.label}</span></button>`).join('')}
    function renderCIMoods(){document.getElementById('ciMoodGrid').innerHTML=MOODS.map(m=>`<button class="ci-mood-btn" data-val="${m.val}" onclick="selectCIMood('${m.val}')"><span class="mood-e" style="font-size:30px">${m.emoji}</span><span class="mood-lb">${m.label}</span></button>`).join('')}
    function buildTimeSelect(){document.getElementById('newTime').innerHTML=HORAS.map(t=>`<option value="${t}">${t}</option>`).join('');document.getElementById('newTime').value='9:00 AM'}
    function renderCatPills(){document.getElementById('catPills').innerHTML=CATS.map(c=>{const s=newCat===c.id,st=s?`background:${c.color};border-color:${c.color};color:white`:'';return`<button class="cpill${s?' sel':''}" style="${st}" onclick="selectCat('${c.id}')">${c.icon} ${c.label}</button>`}).join('')}
    document.getElementById('newText').addEventListener('keydown',e=>{if(e.key==='Enter')addReminder()});

    document.getElementById('fecha').textContent=formatFecha(new Date());
    document.getElementById('saludoText').textContent=getSaludo()+' ‚òÄÔ∏è';
    document.getElementById('mensajeDiario').textContent=MENSAJES[Math.floor(Math.random()*MENSAJES.length)];
    buildMoodGrid();buildTimeSelect();renderCatPills();render();
  </script>
</body>
</html>